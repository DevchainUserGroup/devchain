#Truffle Docker Image
FROM node:8.0.0-alpine
LABEL name=truffle

RUN apk add --update bash zsh vim emacs-nox less \
        nodejs git openssl \
        python python-dev g++ make


# Install testrpc and Truffle directly from github as PIP and NPM not regularly
# updated (e.g. make sure we have latest version solc)
# ethereumjs-testrpc
WORKDIR /tmp
RUN git clone https://github.com/ethereumjs/testrpc.git
WORKDIR /tmp/testrpc
#RUN npm install -g .
# Truffle
WORKDIR /tmp
RUN git clone https://github.com/ConsenSys/truffle-default-builder.git
RUN df -h
WORKDIR /tmp/truffle-default-builder
#RUN npm install -g .
WORKDIR /tmp
RUN git clone https://github.com/ConsenSys/truffle.git
WORKDIR /tmp/truffle
#RUN npm install -g .

WORKDIR /home/node

EXPOSE 8080
ENTRYPOINT []
